<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title></title>
    <link href="https://fonts.googleapis.com/css?family=Orbitron|Rajdhani&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Rajdhani&display=swap" rel="stylesheet">
    <style type="text/css">
      *{
        box-sizing: border-box;
      }

      body{
        background-color: black;
        color: white;
      }

      #game-wrapper{
        // hide this display: none;
      }
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 12px;
      }
      ::-webkit-scrollbar-track {
        box-shadow: inset 0 0 5px grey;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb {
        background: red;
        border-radius: 10px;
      }
    </style>
    <script type="text/javascript"></script>
    <script type="text/javascript" src="javascript/game.js"></script>
    <script type="text/javascript">
      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
      }

      function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        //alert(data);
        if(ev.target.innerHTML === ''){
          ev.target.appendChild(document.getElementById(data));
          pickUpItems(player.currentRoom, data.split("_")[0],true);
        }
      }
    </script>

    <script type="text/javascript" src="javascript/combat.js"></script>

    <script type="text/javascript" src="javascript/timer.js"></script>
    <link rel="stylesheet" href="styles/gameWrapper.css">
    <link rel="stylesheet" href="styles/combatWrapper.css">
  </head>
  <body onload="gameStart();">
  <body>
    <div id="wrapper">
      <div id="settings-wrapper">
          <button type="button" style="float:right;">Exit Game</button>
          <button type="button" style="float:right;">Pause Game</button>

          <!--just putting timer in here for 'time' being (FUCK OFF DAVID (LUKE))-->
          <script>
            timerOperation();
          </script>
      </div>
      <br>
      <div id="container">
          <div id="playerInventory">
            <div id="inventory">
              <div id="inventoryHeader">
                  <h1>Inventory</h1>
              </div>
                <table>
                  <tr>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'></td>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'></td>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'></td>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'></td>
                  </tr>
                  <tr>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'></td>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'></td>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'></td>
                    <td ondrop='drop(event)' ondragover='allowDrop(event)'> </td>
                  </tr>
                </table>
            </div>
            <div id="other1">


              <div id="inventoryHeader">
                  <h1>Nearby Pickups</h1>
              </div>
              <table>
                <tr>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </table>
            </div>
          </div>
          <div id="userInput">
            <div id="textbox">
              <div id="text-display" class="text">
              </div>
              <input type="text" class="input" name="cmd" placeholder="Enter your action" style="width:80%; color: #27910E;" id = "gameInput" onkeypress="if (event.keyCode === 13) document.getElementById('gameInputButton').click()">
              <button type="button" name="button" style="float:right; width:20%; height: 62px;" id = "gameInputButton" onclick="commandInput();">Go</button>
            </div>
          </div>
          <div id="statsContainer">
                 <div id="mapHeader">
                   <h1 id="currentRoomDisplay" class="text">>Current Room: </h1>
                 </div>
                 <div id="map">
                     <img id="gameMap" src="images/gameMap.png" alt="This is the game map"style='height: 80%; width: 80%; object-fit: contain'>
                 </div>
                 <div id="playerStatsContainer">
                   <hr>
                   <p style="margin:0;">Health:</p>
                   <p style="margin:0;" id="timer"</p>Time remaining: 5:00</p>
                   <hr>
                 </div>
                 <div id="objectivesContainer">
                   <h3 style="margin:0;">Objectives:</h3>
                   <hr>
                   <ul style="margin:0;">
                     <li id="objective">Objective 1</li>
                   </ul>
                 </div>
           </div>
          </div>

      </div>
      <div id="combat-wrapper">
        <div id="player1">
          <img src="images/playerIcon.jpg" alt="Player 1" class="playerImg">
          <div class="playerbox-info">
            <div class="healthbar"><div id="PlayerHB"></div>
            </div>
            <h1 id="player1Name" class="player-name">Player 1</h1>
            <h1 id="health1" class="player-health">100HP</h2>
          </div>
        </div>
        <div id="round-timer">
          <h1 id="countdownTimer">10:00</h1>
        </div>
        <div id="player2">
          <img src="images/playerIcon.jpg" alt="Player 2" class="playerImg">
          <div class="playerbox-info">
            <div class="healthbar"> <div id="EnemyHB"></div> </div>
            <h1 id="player2Name" class="player-name">Enemy</h1>
            <h1 id="health2" class="player-health">100HP</h2>
          </div>
        </div>
     <h1 id="healthLost" class="hideMe">Lost 20 health..</h1>
     <h1 id="damageGiven" class="hideMe">Damaged for 35..</h1>
     <div id="gameinstructions">
       <h1 class="combatHeader">Combat Instructions</h1>
       <ul>
         <li>Select desired combat type</li>
         <li>Drag weapon from inventory to weapon slot to change it</li>
         <li>Type in the hitbox and press enter to finish your turn</li>
         <li>The faster you complete your turn the more damage you will deal</li>
       </ul>
     </div>
     <div id="hitbox-display"  class="hideMe">
        <h1 class="combatHeader">Hitboxes</h1>
        <ul>
          <li>Head</li>
          <li>Chest</li>
          <li>Stomach</li>
          <li>Arms</li>
          <li>Legs</li>
          <li>Feet</li>
        </ul>
     </div>
     <div id="combatBox" class="hideMe">
       <div id="combat-main">
         <h1 class="combatHeader">Combat</h1>

         <input type="radio" name="Attack" value="Attack1" class="combatAction">
         <label for="" class="combatLabel">Aim</label>
         <input type="radio" name="Attack" value="Attack2" class="combatAction">
         <label for="" class="combatLabel">Charge enemy</label>
         <input type="radio" name="Attack" value="TakeCover" class="combatAction">
         <label for="" class="combatLabel">Take Cover</label>
         <div id="combat-col1">
           <h2>Aimpoint:</h2>
           <input type="text" name="hitbox" placeholder="hitbox" id="hitbox-input" onkeypress="if (event.keyCode === 13) exectuteCombat();">
         </div>
         <div id="combat-col2">
            <h2 id="weaponText">Weapon: </h2> <img src="images/itemPlaceholder.png" alt="Empty Slot" class="weaponPlaceholder">
         </div>
       </div>
       <div id="combat-inventory">
           <h1 class="combatHeader">Avaliable Weapons</h1>
           <table cellspacing="10">
             <tr>
               <td> <img src="images/itemPlaceholder.png" alt="Empty Slot" class="inventoryItem"> </td>
               <td> <img src="images/itemPlaceholder.png" alt="Empty Slot" class="inventoryItem"> </td>
               <td> <img src="images/itemPlaceholder.png" alt="Empty Slot" class="inventoryItem"> </td>
             </tr>
           </table>
       </div>
     </div>
     <div id="overviewBox">
         <button type="submit" name="button" onclick="nextRound();">Start Combat</button>
         <div id="overview-container" class="hideMe">
           <h1 class="combatHeader" id="turnOverview-header">Turn Overview</h1>
           <p id="turnOverviewText">
             During this turn you took <span id="stat-damageTaken">24</span> damage from <span class="enemyName">enemy</span>
             and dealt <span id="stat-damageGiven">50</span> damage in return to <span class="enemyName">enemy</span>.
           </p>
         </div>
      </div>
    </div>
  </div>

  </body>
</html>
